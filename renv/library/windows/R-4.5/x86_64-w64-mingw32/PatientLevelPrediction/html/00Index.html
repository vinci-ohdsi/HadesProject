<!DOCTYPE html>
<html>
<head><title>R: Develop Clinical Prediction Models Using the Common Data Model</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<link rel="stylesheet" type="text/css" href="R.css">
</head><body><div class="container">
<h1> Develop Clinical Prediction Models Using the Common Data Model
<img class="toplogo" src="../../../doc/html/Rlogo.svg" alt="[R logo]">
</h1>
<hr>
<div style="text-align: center;">
<a href="../../../doc/html/packages.html"><img class="arrow" src="../../../doc/html/left.jpg" alt="[Up]"></a>
<a href="../../../doc/html/index.html"><img class="arrow" src="../../../doc/html/up.jpg" alt="[Top]"></a>
</div><h2>Documentation for package &lsquo;PatientLevelPrediction&rsquo; version 6.5.0</h2>

<ul><li><a href="../DESCRIPTION" type="text/plain; charset=utf-8">DESCRIPTION file</a>.</li>
<li><a href="../doc/index.html">User guides, package vignettes and other documentation.</a></li>
<li><a href="../demo">Code demos</a>.  Use <a href="../../utils/help/demo">demo()</a> to run them.</li>
<li><a href="../NEWS.md">Package NEWS</a>.</li>
</ul>

<h2>Help Pages</h2>


<p style="text-align: center;">
<a href="#A">A</a>
<a href="#B">B</a>
<a href="#C">C</a>
<a href="#D">D</a>
<a href="#E">E</a>
<a href="#F">F</a>
<a href="#G">G</a>
<a href="#I">I</a>
<a href="#L">L</a>
<a href="#M">M</a>
<a href="#O">O</a>
<a href="#P">P</a>
<a href="#R">R</a>
<a href="#S">S</a>
<a href="#T">T</a>
<a href="#V">V</a>
</p>


<h2><a id="A">-- A --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="averagePrecision.html">averagePrecision</a></td>
<td>Calculate the average precision</td></tr>
</table>

<h2><a id="B">-- B --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="brierScore.html">brierScore</a></td>
<td>brierScore</td></tr>
</table>

<h2><a id="C">-- C --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="calibrationLine.html">calibrationLine</a></td>
<td>calibrationLine</td></tr>
<tr><td style="width: 25%;"><a href="computeAuc.html">computeAuc</a></td>
<td>Compute the area under the ROC curve</td></tr>
<tr><td style="width: 25%;"><a href="computeGridPerformance.html">computeGridPerformance</a></td>
<td>Computes grid performance with a specified performance function</td></tr>
<tr><td style="width: 25%;"><a href="configurePython.html">configurePython</a></td>
<td>Sets up a python environment to use for PLP (can be conda or venv)</td></tr>
<tr><td style="width: 25%;"><a href="covariateSummary.html">covariateSummary</a></td>
<td>covariateSummary</td></tr>
<tr><td style="width: 25%;"><a href="createCohortCovariateSettings.html">createCohortCovariateSettings</a></td>
<td>Extracts covariates based on cohorts</td></tr>
<tr><td style="width: 25%;"><a href="createDatabaseDetails.html">createDatabaseDetails</a></td>
<td>Create a setting that holds the details about the cdmDatabase connection for data extraction</td></tr>
<tr><td style="width: 25%;"><a href="createDatabaseSchemaSettings.html">createDatabaseSchemaSettings</a></td>
<td>Create the PatientLevelPrediction database result schema settings</td></tr>
<tr><td style="width: 25%;"><a href="createDefaultExecuteSettings.html">createDefaultExecuteSettings</a></td>
<td>Creates default list of settings specifying what parts of runPlp to execute</td></tr>
<tr><td style="width: 25%;"><a href="createDefaultSplitSetting.html">createDefaultSplitSetting</a></td>
<td>Create the settings for defining how the plpData are split into test/validation/train sets using default splitting functions (either random stratified by outcome, time or subject splitting)</td></tr>
<tr><td style="width: 25%;"><a href="createExecuteSettings.html">createExecuteSettings</a></td>
<td>Creates list of settings specifying what parts of runPlp to execute</td></tr>
<tr><td style="width: 25%;"><a href="createExistingSplitSettings.html">createExistingSplitSettings</a></td>
<td>Create the settings for defining how the plpData are split into test/validation/train sets using an existing split - good to use for reproducing results from a different run</td></tr>
<tr><td style="width: 25%;"><a href="createFeatureEngineeringSettings.html">createFeatureEngineeringSettings</a></td>
<td>Create the settings for defining any feature engineering that will be done</td></tr>
<tr><td style="width: 25%;"><a href="createGlmModel.html">createGlmModel</a></td>
<td>createGlmModel</td></tr>
<tr><td style="width: 25%;"><a href="createIterativeImputer.html">createIterativeImputer</a></td>
<td>Create Iterative Imputer settings</td></tr>
<tr><td style="width: 25%;"><a href="createLearningCurve.html">createLearningCurve</a></td>
<td>createLearningCurve</td></tr>
<tr><td style="width: 25%;"><a href="createLogSettings.html">createLogSettings</a></td>
<td>Create the settings for logging the progression of the analysis</td></tr>
<tr><td style="width: 25%;"><a href="createModelDesign.html">createModelDesign</a></td>
<td>Specify settings for developing a single model</td></tr>
<tr><td style="width: 25%;"><a href="createNormalizer.html">createNormalizer</a></td>
<td>Create the settings for normalizing the data @param type The type of normalization to use, either "minmax" or "robust"</td></tr>
<tr><td style="width: 25%;"><a href="createPlpResultTables.html">createPlpResultTables</a></td>
<td>Create the results tables to store PatientLevelPrediction models and results into a database</td></tr>
<tr><td style="width: 25%;"><a href="createPreprocessSettings.html">createPreprocessSettings</a></td>
<td>Create the settings for preprocessing the trainData.</td></tr>
<tr><td style="width: 25%;"><a href="createRandomForestFeatureSelection.html">createRandomForestFeatureSelection</a></td>
<td>Create the settings for random foreat based feature selection</td></tr>
<tr><td style="width: 25%;"><a href="createRareFeatureRemover.html">createRareFeatureRemover</a></td>
<td>Create the settings for removing rare features</td></tr>
<tr><td style="width: 25%;"><a href="createRestrictPlpDataSettings.html">createRestrictPlpDataSettings</a></td>
<td>createRestrictPlpDataSettings define extra restriction settings when calling getPlpData</td></tr>
<tr><td style="width: 25%;"><a href="createSampleSettings.html">createSampleSettings</a></td>
<td>Create the settings for defining how the trainData from 'splitData' are sampled using default sample functions.</td></tr>
<tr><td style="width: 25%;"><a href="createSimpleImputer.html">createSimpleImputer</a></td>
<td>Create Simple Imputer settings</td></tr>
<tr><td style="width: 25%;"><a href="createSklearnModel.html">createSklearnModel</a></td>
<td>Plug an existing scikit learn python model into the PLP framework</td></tr>
<tr><td style="width: 25%;"><a href="createSplineSettings.html">createSplineSettings</a></td>
<td>Create the settings for adding a spline for continuous variables</td></tr>
<tr><td style="width: 25%;"><a href="createStratifiedImputationSettings.html">createStratifiedImputationSettings</a></td>
<td>Create the settings for using stratified imputation.</td></tr>
<tr><td style="width: 25%;"><a href="createStudyPopulation.html">createStudyPopulation</a></td>
<td>Create a study population</td></tr>
<tr><td style="width: 25%;"><a href="createStudyPopulationSettings.html">createStudyPopulationSettings</a></td>
<td>create the study population settings</td></tr>
<tr><td style="width: 25%;"><a href="createTempModelLoc.html">createTempModelLoc</a></td>
<td>Create a temporary model location</td></tr>
<tr><td style="width: 25%;"><a href="createUnivariateFeatureSelection.html">createUnivariateFeatureSelection</a></td>
<td>Create the settings for defining any feature selection that will be done</td></tr>
<tr><td style="width: 25%;"><a href="createValidationDesign.html">createValidationDesign</a></td>
<td>createValidationDesign - Define the validation design for external validation</td></tr>
<tr><td style="width: 25%;"><a href="createValidationSettings.html">createValidationSettings</a></td>
<td>createValidationSettings define optional settings for performing external validation</td></tr>
</table>

<h2><a id="D">-- D --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="diagnoseMultiplePlp.html">diagnoseMultiplePlp</a></td>
<td>Run a list of predictions diagnoses</td></tr>
<tr><td style="width: 25%;"><a href="diagnosePlp.html">diagnosePlp</a></td>
<td>diagnostic - Investigates the prediction problem settings - use before training a model</td></tr>
</table>

<h2><a id="E">-- E --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="evaluatePlp.html">evaluatePlp</a></td>
<td>evaluatePlp</td></tr>
<tr><td style="width: 25%;"><a href="externalValidateDbPlp.html">externalValidateDbPlp</a></td>
<td>externalValidateDbPlp - Validate a model on new databases</td></tr>
<tr><td style="width: 25%;"><a href="extractDatabaseToCsv.html">extractDatabaseToCsv</a></td>
<td>Exports all the results from a database into csv files</td></tr>
</table>

<h2><a id="F">-- F --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="fitPlp.html">fitPlp</a></td>
<td>fitPlp</td></tr>
</table>

<h2><a id="G">-- G --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="getCalibrationSummary.html">getCalibrationSummary</a></td>
<td>Get a sparse summary of the calibration</td></tr>
<tr><td style="width: 25%;"><a href="getCohortCovariateData.html">getCohortCovariateData</a></td>
<td>Extracts covariates based on cohorts</td></tr>
<tr><td style="width: 25%;"><a href="getDemographicSummary.html">getDemographicSummary</a></td>
<td>Get a demographic summary</td></tr>
<tr><td style="width: 25%;"><a href="getEunomiaPlpData.html">getEunomiaPlpData</a></td>
<td>Create a plpData object from the Eunomia database'</td></tr>
<tr><td style="width: 25%;"><a href="getPlpData.html">getPlpData</a></td>
<td>Extract the patient level prediction data from the server</td></tr>
<tr><td style="width: 25%;"><a href="getPredictionDistribution.html">getPredictionDistribution</a></td>
<td>Calculates the prediction distribution</td></tr>
<tr><td style="width: 25%;"><a href="getThresholdSummary.html">getThresholdSummary</a></td>
<td>Calculate all measures for sparse ROC</td></tr>
</table>

<h2><a id="I">-- I --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="ici.html">ici</a></td>
<td>Calculate the Integrated Calibration Index from Austin and Steyerberg https://onlinelibrary.wiley.com/doi/full/10.1002/sim.8281</td></tr>
<tr><td style="width: 25%;"><a href="insertCsvToDatabase.html">insertCsvToDatabase</a></td>
<td>Function to insert results into a database from csvs</td></tr>
<tr><td style="width: 25%;"><a href="insertResultsToSqlite.html">insertResultsToSqlite</a></td>
<td>Create sqlite database with the results</td></tr>
</table>

<h2><a id="L">-- L --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="listAppend.html">listAppend</a></td>
<td>join two lists</td></tr>
<tr><td style="width: 25%;"><a href="listCartesian.html">listCartesian</a></td>
<td>Cartesian product</td></tr>
<tr><td style="width: 25%;"><a href="loadPlpAnalysesJson.html">loadPlpAnalysesJson</a></td>
<td>Load the multiple prediction json settings from a file</td></tr>
<tr><td style="width: 25%;"><a href="loadPlpData.html">loadPlpData</a></td>
<td>Load the plpData from a folder</td></tr>
<tr><td style="width: 25%;"><a href="loadPlpModel.html">loadPlpModel</a></td>
<td>loads the plp model</td></tr>
<tr><td style="width: 25%;"><a href="loadPlpResult.html">loadPlpResult</a></td>
<td>Loads the evalaution dataframe</td></tr>
<tr><td style="width: 25%;"><a href="loadPlpShareable.html">loadPlpShareable</a></td>
<td>Loads the plp result saved as json/csv files for transparent sharing</td></tr>
<tr><td style="width: 25%;"><a href="loadPrediction.html">loadPrediction</a></td>
<td>Loads the prediction dataframe to json</td></tr>
</table>

<h2><a id="M">-- M --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="MapIds.html">MapIds</a></td>
<td>Map covariate and row Ids so they start from 1</td></tr>
<tr><td style="width: 25%;"><a href="migrateDataModel.html">migrateDataModel</a></td>
<td>Migrate Data model</td></tr>
<tr><td style="width: 25%;"><a href="modelBasedConcordance.html">modelBasedConcordance</a></td>
<td>Calculate the model-based concordance, which is a calculation of the expected discrimination performance of a model under the assumption the model predicts the "TRUE" outcome as detailed in van Klaveren et al. https://pubmed.ncbi.nlm.nih.gov/27251001/</td></tr>
</table>

<h2><a id="O">-- O --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="outcomeSurvivalPlot.html">outcomeSurvivalPlot</a></td>
<td>Plot the outcome incidence over time</td></tr>
</table>

<h2><a id="P">-- P --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="pfi.html">pfi</a></td>
<td>Permutation Feature Importance</td></tr>
<tr><td style="width: 25%;"><a href="plotDemographicSummary.html">plotDemographicSummary</a></td>
<td>Plot the Observed vs. expected incidence, by age and gender</td></tr>
<tr><td style="width: 25%;"><a href="plotF1Measure.html">plotF1Measure</a></td>
<td>Plot the F1 measure efficiency frontier using the sparse thresholdSummary data frame</td></tr>
<tr><td style="width: 25%;"><a href="plotGeneralizability.html">plotGeneralizability</a></td>
<td>Plot the train/test generalizability diagnostic</td></tr>
<tr><td style="width: 25%;"><a href="plotLearningCurve.html">plotLearningCurve</a></td>
<td>plotLearningCurve</td></tr>
<tr><td style="width: 25%;"><a href="plotNetBenefit.html">plotNetBenefit</a></td>
<td>Plot the net benefit</td></tr>
<tr><td style="width: 25%;"><a href="plotPlp.html">plotPlp</a></td>
<td>Plot all the PatientLevelPrediction plots</td></tr>
<tr><td style="width: 25%;"><a href="plotPrecisionRecall.html">plotPrecisionRecall</a></td>
<td>Plot the precision-recall curve using the sparse thresholdSummary data frame</td></tr>
<tr><td style="width: 25%;"><a href="plotPredictedPDF.html">plotPredictedPDF</a></td>
<td>Plot the Predicted probability density function, showing prediction overlap between true and false cases</td></tr>
<tr><td style="width: 25%;"><a href="plotPredictionDistribution.html">plotPredictionDistribution</a></td>
<td>Plot the side-by-side boxplots of prediction distribution, by class</td></tr>
<tr><td style="width: 25%;"><a href="plotPreferencePDF.html">plotPreferencePDF</a></td>
<td>Plot the preference score probability density function, showing prediction overlap between true and false cases #'</td></tr>
<tr><td style="width: 25%;"><a href="plotSmoothCalibration.html">plotSmoothCalibration</a></td>
<td>Plot the smooth calibration as detailed in Calster et al. "A calibration heirarchy for risk models was defined: from utopia to empirical data" (2016)</td></tr>
<tr><td style="width: 25%;"><a href="plotSparseCalibration.html">plotSparseCalibration</a></td>
<td>Plot the calibration</td></tr>
<tr><td style="width: 25%;"><a href="plotSparseCalibration2.html">plotSparseCalibration2</a></td>
<td>Plot the conventional calibration</td></tr>
<tr><td style="width: 25%;"><a href="plotSparseRoc.html">plotSparseRoc</a></td>
<td>Plot the ROC curve using the sparse thresholdSummary data frame</td></tr>
<tr><td style="width: 25%;"><a href="plotVariableScatterplot.html">plotVariableScatterplot</a></td>
<td>Plot the variable importance scatterplot</td></tr>
<tr><td style="width: 25%;"><a href="predictCyclops.html">predictCyclops</a></td>
<td>Create predictive probabilities</td></tr>
<tr><td style="width: 25%;"><a href="predictGlm.html">predictGlm</a></td>
<td>predict using a logistic regression model</td></tr>
<tr><td style="width: 25%;"><a href="predictPlp.html">predictPlp</a></td>
<td>predictPlp</td></tr>
<tr><td style="width: 25%;"><a href="preprocessData.html">preprocessData</a></td>
<td>A function that wraps around FeatureExtraction::tidyCovariateData to normalise the data and remove rare or redundant features</td></tr>
<tr><td style="width: 25%;"><a href="print.plpData.html">print.plpData</a></td>
<td>Print a plpData object</td></tr>
<tr><td style="width: 25%;"><a href="print.summary.plpData.html">print.summary.plpData</a></td>
<td>Print a summary.plpData object</td></tr>
</table>

<h2><a id="R">-- R --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="recalibratePlp.html">recalibratePlp</a></td>
<td>recalibratePlp</td></tr>
<tr><td style="width: 25%;"><a href="recalibratePlpRefit.html">recalibratePlpRefit</a></td>
<td>recalibratePlpRefit</td></tr>
<tr><td style="width: 25%;"><a href="runMultiplePlp.html">runMultiplePlp</a></td>
<td>Run a list of predictions analyses</td></tr>
<tr><td style="width: 25%;"><a href="runPlp.html">runPlp</a></td>
<td>runPlp - Develop and internally evaluate a model using specified settings</td></tr>
</table>

<h2><a id="S">-- S --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="savePlpAnalysesJson.html">savePlpAnalysesJson</a></td>
<td>Save the modelDesignList to a json file</td></tr>
<tr><td style="width: 25%;"><a href="savePlpData.html">savePlpData</a></td>
<td>Save the plpData to folder</td></tr>
<tr><td style="width: 25%;"><a href="savePlpModel.html">savePlpModel</a></td>
<td>Saves the plp model</td></tr>
<tr><td style="width: 25%;"><a href="savePlpResult.html">savePlpResult</a></td>
<td>Saves the result from runPlp into the location directory</td></tr>
<tr><td style="width: 25%;"><a href="savePlpShareable.html">savePlpShareable</a></td>
<td>Save the plp result as json files and csv files for transparent sharing</td></tr>
<tr><td style="width: 25%;"><a href="savePrediction.html">savePrediction</a></td>
<td>Saves the prediction dataframe to a json file</td></tr>
<tr><td style="width: 25%;"><a href="setAdaBoost.html">setAdaBoost</a></td>
<td>Create setting for AdaBoost with python DecisionTreeClassifier base estimator</td></tr>
<tr><td style="width: 25%;"><a href="setCoxModel.html">setCoxModel</a></td>
<td>Create setting for lasso Cox model</td></tr>
<tr><td style="width: 25%;"><a href="setDecisionTree.html">setDecisionTree</a></td>
<td>Create setting for the scikit-learn DecisionTree with python</td></tr>
<tr><td style="width: 25%;"><a href="setGradientBoostingMachine.html">setGradientBoostingMachine</a></td>
<td>Create setting for gradient boosting machine model using gbm_xgboost implementation</td></tr>
<tr><td style="width: 25%;"><a href="setIterativeHardThresholding.html">setIterativeHardThresholding</a></td>
<td>Create setting for Iterative Hard Thresholding model</td></tr>
<tr><td style="width: 25%;"><a href="setLassoLogisticRegression.html">setLassoLogisticRegression</a></td>
<td>Create modelSettings for lasso logistic regression</td></tr>
<tr><td style="width: 25%;"><a href="setLightGBM.html">setLightGBM</a></td>
<td>Create setting for gradient boosting machine model using lightGBM (https://github.com/microsoft/LightGBM/tree/master/R-package).</td></tr>
<tr><td style="width: 25%;"><a href="setMLP.html">setMLP</a></td>
<td>Create setting for neural network model with python's scikit-learn. For bigger models, consider using 'DeepPatientLevelPrediction' package.</td></tr>
<tr><td style="width: 25%;"><a href="setNaiveBayes.html">setNaiveBayes</a></td>
<td>Create setting for naive bayes model with python</td></tr>
<tr><td style="width: 25%;"><a href="setPythonEnvironment.html">setPythonEnvironment</a></td>
<td>Use the python environment created using configurePython()</td></tr>
<tr><td style="width: 25%;"><a href="setRandomForest.html">setRandomForest</a></td>
<td>Create setting for random forest model using sklearn</td></tr>
<tr><td style="width: 25%;"><a href="setSVM.html">setSVM</a></td>
<td>Create setting for the python sklearn SVM (SVC function)</td></tr>
<tr><td style="width: 25%;"><a href="simulatePlpData.html">simulatePlpData</a></td>
<td>Generate simulated data</td></tr>
<tr><td style="width: 25%;"><a href="simulationProfile.html">simulationProfile</a></td>
<td>A simulation profile for generating synthetic patient level prediction data</td></tr>
<tr><td style="width: 25%;"><a href="sklearnFromJson.html">sklearnFromJson</a></td>
<td>Loads sklearn python model from json</td></tr>
<tr><td style="width: 25%;"><a href="sklearnToJson.html">sklearnToJson</a></td>
<td>Saves sklearn python model object to json in path</td></tr>
<tr><td style="width: 25%;"><a href="splitData.html">splitData</a></td>
<td>Split the plpData into test/train sets using a splitting settings of class 'splitSettings'</td></tr>
<tr><td style="width: 25%;"><a href="summary.plpData.html">summary.plpData</a></td>
<td>Summarize a plpData object</td></tr>
</table>

<h2><a id="T">-- T --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="toSparseM.html">toSparseM</a></td>
<td>Convert the plpData in COO format into a sparse R matrix</td></tr>
</table>

<h2><a id="V">-- V --</a></h2>

<table style="width: 100%;">
<tr><td style="width: 25%;"><a href="validateExternal.html">validateExternal</a></td>
<td>validateExternal - Validate model performance on new data</td></tr>
<tr><td style="width: 25%;"><a href="validateMultiplePlp.html">validateMultiplePlp</a></td>
<td>externally validate the multiple plp models across new datasets</td></tr>
<tr><td style="width: 25%;"><a href="viewDatabaseResultPlp.html">viewDatabaseResultPlp</a></td>
<td>open a local shiny app for viewing the result of a PLP analyses from a database</td></tr>
<tr><td style="width: 25%;"><a href="viewMultiplePlp.html">viewMultiplePlp</a></td>
<td>open a local shiny app for viewing the result of a multiple PLP analyses</td></tr>
<tr><td style="width: 25%;"><a href="viewPlp.html">viewPlp</a></td>
<td>viewPlp - Interactively view the performance and model settings</td></tr>
</table>
</div></body></html>
